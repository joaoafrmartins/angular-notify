// Generated by CoffeeScript 1.7.1
(function() {
  var NotifyController;

  module.exports = NotifyController = (function() {
    function NotifyController($scope, $rootScope, $translatePartialLoader, notifyService) {
      this.$scope = $scope;
      this.$rootScope = $rootScope;
      $translatePartialLoader.addPart('notify');
      this.printer = notifyService.printer;
      this.$scope.attach = notifyService.attach.bind(notifyService);
      this.$scope.$watch('notes', this.onUpdateNotes.bind(this));
      this.$rootScope.$on("$onNotifyElementAttached", (function(_this) {
        return function() {
          var _base;
          return (_base = _this.$scope).notes != null ? _base.notes : _base.notes = notifyService.getNotes();
        };
      })(this));
    }

    NotifyController.prototype.onUpdateNotes = function(notes) {
      return notes.map((function(_this) {
        return function(n) {
          return _this.printer[n.level](n.message, n);
        };
      })(this));
    };

    return NotifyController;

  })();

}).call(this);
